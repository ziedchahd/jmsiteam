window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){var n,o=this.length;for(t=t||window,n=0;n<o;n++)e.call(t,this[n],n,this)}),function(){"use strict";window.base={initOutlineToggle:function(){document.body.addEventListener("keydown",(function(){document.body.classList.remove("hide-focus-outline")})),document.body.addEventListener("mousedown",(function(){document.body.classList.add("hide-focus-outline")}))},getOffset:function(e){if(e instanceof HTMLElement){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}return{top:null,left:null}},findParents:function(e,t){var n=[];return function e(o){var a=o.parentNode;a instanceof HTMLElement&&(a.matches(t)&&n.push(a),e(a))}(e),n},toggleAttribute:function(e,t,n,o){void 0===n&&(n=!0),void 0===o&&(o=!1),e.getAttribute(t)!==n?e.setAttribute(t,n):e.setAttribute(t,o)},initNavToggleSubmenus:function(){var e=document.querySelectorAll(".nav--toggle-sub");if(e.length)for(let t=0;t<e.length;t++)window.base.initEachNavToggleSubmenu(e[t])},initEachNavToggleSubmenu:function(e){var t=e.querySelectorAll(".menu ul");if(t.length)for(let a=0;a<t.length;a++){var n=t[a].parentNode;if(n.querySelector(".dropdown-nav-toggle")){var o=document.createElement("BUTTON");o.setAttribute("aria-label",baseConfig.screenReader.expand),o.classList.add("dropdown-nav-special-toggle"),n.insertBefore(o,n.childNodes[1]),o.addEventListener("click",(function(e){e.preventDefault(),window.base.toggleSubMenu(e.target.parentNode)})),n.addEventListener("mouseleave",(function(e){window.base.toggleSubMenu(e.target,!1)})),n.querySelector("a").addEventListener("focus",(function(e){var t=e.target.parentNode.parentNode.querySelectorAll("li.menu-item--toggled-on");for(let n=0;n<t.length;n++)window.base.toggleSubMenu(t[n],!1)})),t[a].addEventListener("keydown",(function(e){var n="ul.toggle-show > li > a, ul.toggle-show > li > .dropdown-nav-special-toggle";9===e.keyCode&&(e.shiftKey?window.base.isfirstFocusableElement(t[a],document.activeElement,n)&&window.base.toggleSubMenu(t[a].parentNode,!1):window.base.islastFocusableElement(t[a],document.activeElement,n)&&window.base.toggleSubMenu(t[a].parentNode,!1))})),t[a].parentNode.classList.add("menu-item--has-toggle")}}},toggleSubMenu:function(e,t){var n=e.querySelector(".dropdown-nav-special-toggle"),o=e.querySelector("ul");let a=e.classList.contains("menu-item--toggled-on");if(void 0!==t&&"boolean"==typeof t&&(a=!t),n.setAttribute("aria-expanded",(!a).toString()),a){e.classList.remove("menu-item--toggled-on"),o.classList.remove("toggle-show"),n.setAttribute("aria-label",baseConfig.screenReader.expand);var i=e.querySelectorAll(".menu-item--toggled-on");for(let e=0;e<i.length;e++)window.base.toggleSubMenu(i[e],!1)}else{var d=e.parentNode.querySelectorAll("li.menu-item--toggled-on");for(let e=0;e<d.length;e++)window.base.toggleSubMenu(d[e],!1);e.classList.add("menu-item--toggled-on"),o.classList.add("toggle-show"),n.setAttribute("aria-label",baseConfig.screenReader.collapse)}},isfirstFocusableElement:function(e,t,n){var o=e.querySelectorAll(n);return 0<o.length&&t===o[0]},islastFocusableElement:function(e,t,n){var o=e.querySelectorAll(n);return 0<o.length&&t===o[o.length-1]},toggleDrawer:function(e,t){t=void 0===t||t;var n=e,o=document.querySelector(n.dataset.toggleTarget),a=document,i=window.innerWidth-document.documentElement.clientWidth,d=n.dataset.toggleDuration?n.dataset.toggleDuration:250;if(window.base.toggleAttribute(n,"aria-expanded","true","false"),o.classList.contains("show-drawer"))n.dataset.toggleBodyClass&&a.body.classList.remove(n.dataset.toggleBodyClass),o.classList.remove("active"),o.classList.remove("pop-animated"),a.body.classList.remove("base-scrollbar-fixer"),setTimeout((function(){if(o.classList.remove("show-drawer"),n.dataset.setFocus&&t){var e=document.querySelector(n.dataset.setFocus);e&&(e.focus(),e.hasAttribute("aria-expanded")&&window.base.toggleAttribute(e,"aria-expanded","true","false"))}}),d);else if(o.classList.add("show-drawer"),n.dataset.toggleBodyClass&&(a.body.classList.toggle(n.dataset.toggleBodyClass),n.dataset.toggleBodyClass.includes("showing-popup-drawer-")&&(a.body.style.setProperty("--scrollbar-offset",i+"px"),a.body.classList.add("base-scrollbar-fixer"))),setTimeout((function(){if(o.classList.add("active"),n.dataset.setFocus,t){var e=document.querySelector(n.dataset.setFocus);if(e){e.hasAttribute("aria-expanded")&&window.base.toggleAttribute(e,"aria-expanded","true","false");var a=e.value;e.value="",e.focus(),e.value=a}}}),10),setTimeout((function(){o.classList.add("pop-animated")}),d),o.classList.contains("popup-drawer")){var r=o.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),l=r[0],s=r[r.length-1];document.addEventListener("keydown",(function(e){("Tab"===e.key||9===e.keyCode)&&(e.shiftKey?document.activeElement===l&&(s.focus(),e.preventDefault()):document.activeElement===s&&(l.focus(),e.preventDefault()))}))}},initToggleDrawer:function(){var e=document.querySelectorAll(".drawer-toggle");if(e.length){for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(n){n.preventDefault(),window.base.toggleDrawer(e[t])}));document.addEventListener("keyup",(function(e){27===e.keyCode&&document.querySelectorAll(".popup-drawer.show-drawer.active")&&(e.preventDefault(),document.querySelectorAll(".popup-drawer.show-drawer.active").forEach((function(e){window.base.toggleDrawer(document.querySelector('*[data-toggle-target="'+e.dataset.drawerTargetString+'"]'))})))})),document.addEventListener("click",(function(e){var t=e.target,n=document.querySelector(".show-drawer.active .drawer-overlay");t===n&&window.base.toggleDrawer(document.querySelector('*[data-toggle-target="'+n.dataset.drawerTargetString+'"]'))}))}},initMobileToggleSub:function(){document.querySelectorAll(".has-collapse-sub-nav").forEach((function(e){var t=e.querySelector(".current-menu-item");t&&window.base.findParents(t,"li").forEach((function(e){var t=e.querySelector(".drawer-sub-toggle");t&&window.base.toggleDrawer(t,!0)}))}));var e=document.querySelectorAll(".drawer-sub-toggle");if(e.length)for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(n){n.preventDefault(),window.base.toggleDrawer(e[t])}))},initMobileToggleAnchor:function(){var e=document.getElementById("mobile-drawer");if(e){var t=e.querySelectorAll("a");if(t.length)for(let n=0;n<t.length;n++)t[n].addEventListener("click",(function(t){window.base.toggleDrawer(e.querySelector(".menu-toggle-close"),!1)}))}},initTransHeaderPadding:function(){if(!document.body.classList.contains("no-header")&&document.body.classList.contains("transparent-header")&&document.body.classList.contains("mobile-transparent-header")){var e=document.querySelector(".entry-hero-container-inner"),t=document.querySelector("#masthead"),n=function(n){baseConfig.breakPoints.desktop<=window.innerWidth?document.body.classList.contains("transparent-header")?e.style.paddingTop=t.offsetHeight+"px":e.style.paddingTop=0:document.body.classList.contains("mobile-transparent-header")?e.style.paddingTop=t.offsetHeight+"px":e.style.paddingTop=0};e&&(window.addEventListener("resize",n,!1),window.addEventListener("scroll",n,!1),window.addEventListener("load",n,!1),n())}},getTopOffset:function(){var e=0;return baseConfig.breakPoints.desktop<=window.innerWidth?document.body.classList.contains("admin-bar")&&(e=32):e=0,Math.floor(0+e)},initStickySidebar:function(){if(document.body.classList.contains("has-sticky-sidebar")){var e=window.base.getTopOffset(),t=document.querySelector("#secondary .sidebar-inner-wrap");t.style.top=Math.floor(e+20)+"px",t.style.maxHeight="calc( 100vh - "+Math.floor(e+20)+"px )"}},init:function(){window.base.initNavToggleSubmenus(),window.base.initToggleDrawer(),window.base.initMobileToggleAnchor(),window.base.initMobileToggleSub(),window.base.initOutlineToggle(),window.base.initStickySidebar(),window.base.initTransHeaderPadding()}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",window.base.init):window.base.init()}();